{"code":"(window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[]).push([[8],{\"31e0\":function(e,a,t){\"use strict\";t.r(a);var o=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t(\"div\",{staticClass:\"q-pa-md full-width row justify-center content-center\"},[t(\"div\",{staticClass:\"full-width row justify-center\"},[t(\"q-radio\",{attrs:{val:\"COBRADOR\",label:\"Cobradores\",disable:e.loadingTable},on:{input:e.loadData},model:{value:e.employeeType,callback:function(a){e.employeeType=a},expression:\"employeeType\"}}),t(\"q-radio\",{attrs:{val:\"VENDEDOR\",label:\"Asesores\",disable:e.loadingTable},on:{input:e.loadData},model:{value:e.employeeType,callback:function(a){e.employeeType=a},expression:\"employeeType\"}})],1),t(\"div\",{staticStyle:{\"min-width\":\"400px\",\"max-width\":\"1200px\",padding:\"0 20px\"}},[t(\"q-table\",{attrs:{title:\"Empleados\",\"rows-per-page-label\":\"Items\",separator:\"cell\",data:e.dataTable,columns:e.columns,\"visible-columns\":e.viewColumns,\"row-key\":\"dataTable.id\",\"rows-per-page-options\":e.pagination,loading:e.loadingTable},scopedSlots:e._u([e.isMobile?null:{key:\"top-right\",fn:function(){return[t(\"q-btn\",{attrs:{icon:\"add\",label:\"Agregar Nuevo\",color:\"primary\"},on:{click:e.addItem}})]},proxy:!0},{key:\"header-cell-actions\",fn:function(a){return[t(\"q-th\",{attrs:{props:a}},[t(\"q-icon\",{attrs:{name:\"view_headline\",size:\"1.5em\"}}),e._v(\"\\n          \"+e._s(a.col.label)+\"\\n        \")],1)]}},{key:\"body-cell-actions\",fn:function(a){return[t(\"q-td\",{staticStyle:{width:\"50px\"},attrs:{props:a}},[t(\"q-btn\",{attrs:{dense:\"\",round:\"\",flat:\"\",color:\"positive\",icon:\"edit\"},on:{click:function(t){return e.editItem(a)}}})],1)]}},{key:\"body-cell-estado\",fn:function(a){return[t(\"q-td\",{attrs:{props:a}},[e._v(\"\\n          \"+e._s(e._f(\"FilterState\")(a.row.estado))+\"\\n        \")])]}},{key:\"no-data\",fn:function(){return[t(\"div\",{staticClass:\"full-width row flex-center q-gutter-sm\"},[t(\"span\",[e._v(\" No hay datos . . . crea el primer registro! \")])])]},proxy:!0}],null,!0)})],1),e.isMobile?t(\"div\",{staticClass:\"column items-center\",staticStyle:{\"padding-bottom\":\"0px\"}},[t(\"q-page-sticky\",{attrs:{position:\"bottom-left\",offset:[18,50]}},[t(\"q-btn\",{attrs:{fab:\"\",icon:\"add\",color:\"primary\"},on:{click:e.addItem}})],1)],1):e._e()])},l=[],i=(t(\"7424\"),t(\"7cf4\"),t(\"df2a\")),n=t(\"4f24\"),s=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t(\"q-dialog\",{ref:\"dialog\",on:{hide:e.onDialogHide}},[t(\"q-card\",{staticClass:\"q-dialog-plugin body-cards\"},[t(\"q-card-section\",[t(\"q-form\",{ref:\"form_modal\"},[t(\"q-input\",{attrs:{type:\"text\",filled:\"\",label:\"Identificacion *\",\"lazy-rules\":\"\",rules:e.textRules,counter:\"\"},model:{value:e.dataEmployee.idPersona,callback:function(a){e.$set(e.dataEmployee,\"idPersona\",a)},expression:\"dataEmployee.idPersona\"}}),t(\"q-input\",{attrs:{type:\"text\",filled:\"\",label:\"Primer Nombre *\",\"lazy-rules\":\"\",rules:e.textRules,counter:\"\"},model:{value:e.dataEmployee.nombre1,callback:function(a){e.$set(e.dataEmployee,\"nombre1\",a)},expression:\"dataEmployee.nombre1\"}}),t(\"q-input\",{attrs:{type:\"text\",filled:\"\",label:\"Segundo Nombre\",counter:\"\"},model:{value:e.dataEmployee.nombre2,callback:function(a){e.$set(e.dataEmployee,\"nombre2\",a)},expression:\"dataEmployee.nombre2\"}}),t(\"q-input\",{attrs:{type:\"text\",filled:\"\",label:\"Primer Apellido *\",\"lazy-rules\":\"\",rules:e.textRules,counter:\"\"},model:{value:e.dataEmployee.apellido1,callback:function(a){e.$set(e.dataEmployee,\"apellido1\",a)},expression:\"dataEmployee.apellido1\"}}),t(\"q-input\",{attrs:{type:\"text\",filled:\"\",label:\"Segundo Apellido\",counter:\"\"},model:{value:e.dataEmployee.apellido2,callback:function(a){e.$set(e.dataEmployee,\"apellido2\",a)},expression:\"dataEmployee.apellido2\"}}),t(\"q-input\",{attrs:{type:\"text\",filled:\"\",label:\"Teléfono Uno *\",\"lazy-rules\":\"\",rules:e.textRules,counter:\"\"},model:{value:e.dataEmployee.telefono1,callback:function(a){e.$set(e.dataEmployee,\"telefono1\",a)},expression:\"dataEmployee.telefono1\"}}),t(\"q-input\",{attrs:{type:\"text\",filled:\"\",label:\"Teléfono Dos\",counter:\"\"},model:{value:e.dataEmployee.telefono2,callback:function(a){e.$set(e.dataEmployee,\"telefono2\",a)},expression:\"dataEmployee.telefono2\"}}),t(\"q-select\",{attrs:{filled:\"\",options:e.optEmpleado,label:\"Tipo Empleado\",rules:e.selRules},model:{value:e.dataEmployee.tipoEmpleado,callback:function(a){e.$set(e.dataEmployee,\"tipoEmpleado\",a)},expression:\"dataEmployee.tipoEmpleado\"}}),t(\"q-toggle\",{attrs:{\"checked-icon\":\"check\",color:\"red\",\"unchecked-icon\":\"clear\",value:e.estado,label:\"Estado del empleado \"+e.estadoText},model:{value:e.estado,callback:function(a){e.estado=a},expression:\"estado\"}})],1)],1),t(\"q-card-actions\",{attrs:{align:\"center\"}},[t(\"q-btn\",{attrs:{color:\"primary\",label:e.textAction},on:{click:e.onOKClick}}),t(\"q-btn\",{attrs:{color:\"primary\",flat:\"\",label:\"Cancelar\"},on:{click:e.onCancelClick}})],1)],1)],1)},d=[],r={name:\"ModalEmployees\",data(){return{name:\"\",estado:!0,estadoText:\"Activo\",textRules:[e=>e&&e.length>0||\"Campo Obligatorio (*)\",e=>e.length<=20||\"Máximo 20 carácteres\"],selRules:[e=>!!e||\"Campo Obligatorio\"],optEmpleado:[\"COBRADOR\",\"VENDEDOR\"],dataEmployee:{}}},props:{data:{type:Object,required:!0},textAction:{type:String,required:!0}},created(){this.dataEmployee=this.data,this.estado=void 0!==this.dataEmployee.estado&&0==this.dataEmployee.estado,console.log(this.estado)},methods:{show(){this.$refs.dialog.show()},hide(){this.$refs.dialog.hide()},onDialogHide(){this.$emit(\"hide\")},onOKClick(){this.$refs.form_modal.validate().then((e=>{e&&(this.$emit(\"ok\",this.dataEmployee),this.hide())}))},onCancelClick(){this.hide()}},watch:{estado(){this.estadoText=this.estado?\"Activo\":\" Inactivo\"}}},p=r,c=t(\"2877\"),m=t(\"24e8\"),u=t(\"f09f\"),b=t(\"a370\"),f=t(\"0378\"),y=t(\"27f9\"),g=t(\"ddd8\"),h=t(\"9564\"),E=t(\"4b7e\"),v=t(\"9c40\"),q=t(\"eebe\"),x=t.n(q),T=Object(c[\"a\"])(p,s,d,!1,null,null,null),w=T.exports;x()(T,\"components\",{QDialog:m[\"a\"],QCard:u[\"a\"],QCardSection:b[\"a\"],QForm:f[\"a\"],QInput:y[\"a\"],QSelect:g[\"a\"],QToggle:h[\"a\"],QCardActions:E[\"a\"],QBtn:v[\"a\"]});var k={name:\"Employees\",data(){return{employeeType:\"COBRADOR\",loadingTable:!1,pagination:[5,10,0],viewColumns:[\"actions\",\"idPersona\",\"nombre1\",\"nombre2\",\"apellido1\",\"apellido2\",\"telefono1\",\"telefono2\",\"tipoEmpleado\",\"estado\"],columns:[{name:\"actions\",label:\"\",field:\"\",align:\"center\",icon:\"delete\"},{name:\"idPersona\",required:!1,label:\"Identificacion\",field:\"idPersona\",sortable:!1},{name:\"nombre1\",required:!1,label:\"Primer Nombre\",field:\"nombre1\",sortable:!0,align:\"left\"},{name:\"nombre2\",required:!1,label:\"Segundo Nombre\",field:\"nombre2\",sortable:!0,align:\"left\"},{name:\"apellido1\",required:!1,label:\"Primer Apellido\",field:\"apellido1\",sortable:!0,align:\"left\"},{name:\"apellido2\",required:!1,label:\"Segundo Apellido\",field:\"apellido2\",sortable:!0,align:\"left\"},{name:\"telefono1\",required:!1,label:\"Teléfono 1\",field:\"telefono1\",sortable:!0,align:\"left\"},{name:\"telefono2\",required:!1,label:\"Teléfono 2\",field:\"telefono2\",sortable:!0,align:\"left\"},{name:\"tipoEmpleado\",required:!1,label:\"Tipo Empleado\",field:\"tipoEmpleado\",sortable:!0,align:\"left\"},{name:\"estado\",required:!1,label:\"Estado\",field:\"estado\",sortable:!0,align:\"left\"}],dataTable:[],fabAction:!1,employeeId:0}},beforeMount(){this.loadData()},methods:{editItem(e){this.fabAction=!1,this.saveOrEditItem(e.row)},addItem(){this.fabAction=!0,this.saveOrEditItem(\"\")},saveOrEditItem(e){this.employeeId=e.idPersona,this.$q.dialog({component:w,data:this.fabAction?{}:e,parent:this,textAction:this.fabAction?\"Guardar\":\"Modificar\"}).onOk((e=>{this.fabAction?this.addRegister(e):this.editRegister(e)})).onCancel((()=>{})).onDismiss((()=>{}))},async addRegister(e){await i[\"a\"].create(e).then((e=>{console.log(e),200===(null===e||void 0===e?void 0:e.status)?(n[\"a\"].triggerPositive(\"Registro almacenado correctamente\"),this.loadData()):n[\"a\"].triggerNegative(\"El registro no pudo ser almacenado\")}))},async editRegister(e){await i[\"a\"].edit(this.employeeId,e).then((e=>{console.log(e),200===(null===e||void 0===e?void 0:e.status)?(n[\"a\"].triggerPositive(\"Registro modificado correctamente\"),this.loadData()):n[\"a\"].triggerNegative(\"El registro no pudo ser modificado\")}))},async loadData(){this.loadingTable=!0,await i[\"a\"].list(this.employeeType).then((e=>{200===(null===e||void 0===e?void 0:e.status)&&(this.dataTable=e.data)})),this.loadingTable=!1}},computed:{isMobile:{get(){return this.$store.state.platform_mobile.isMobile}}}},C=k,A=t(\"3786\"),P=t(\"eaac\"),R=t(\"357e\"),O=t(\"0016\"),D=t(\"db86\"),I=t(\"de5e\"),$=Object(c[\"a\"])(C,o,l,!1,null,null,null);a[\"default\"]=$.exports;x()($,\"components\",{QRadio:A[\"a\"],QTable:P[\"a\"],QBtn:v[\"a\"],QTh:R[\"a\"],QIcon:O[\"a\"],QTd:D[\"a\"],QPageSticky:I[\"a\"]})},\"4f24\":function(e,a,t){\"use strict\";var o=t(\"2a19\");const l=e=>{o[\"a\"].create({type:\"positive\",position:\"bottom\",message:e})},i=e=>{o[\"a\"].create({type:\"negative\",position:\"bottom\",message:e})};a[\"a\"]={triggerPositive:l,triggerNegative:i}},7424:function(e,a,t){\"use strict\";var o=t(\"bc3a\"),l=t.n(o),i=t(\"18d6\");let n=i[\"a\"].getItem(\"pisco-afilweb\");const s=l.a.create({baseURL:null!==n?n.server:\"http://138.128.244.126:9051\",timeout:8e3,headers:{\"X-Custom-Header\":\"foobar\",\"Access-Control-Allow-Origin\":\"*\",\"Access-Control-Allow-Methods\":\"GET, POST, PUT, DELETE, PATCH, OPTIONS\",\"Access-Control-Allow-Headers\":\"X-Requested-With, content-type, Authorization\"}});a[\"a\"]=s},\"7cf4\":function(e,a,t){\"use strict\";const o={apiLogin:\"/api/user/login/\",apiEmpresa:\"/api/business/\",apiEmpleado:\"/api/employee/\",apiSucursal:\"/api/office/\",apiKinship:\"/api/kinship/\",apiBenefi:\"/api/benefi/\",apiPlan:\"/api/plan/\",apiZona:\"/api/zone/\",apiDepartamento:\"/api/department/\",apiMunicipio:\"/api/city/\",apiFormaPago:\"/api/paymentmethod/\",apiContrato:\"/api/contract/\",apiBusqueda:\"/api/search/\",apiTipoPago:\"/api/paymenttype/\",apiPagos:\"/api/payment/\",apiCaja:\"/api/cash/\"};a[\"a\"]=o},df2a:function(e,a,t){\"use strict\";t.d(a,\"a\",(function(){return s}));var o=t(\"7424\"),l=t(\"7cf4\"),i=t(\"18d6\");let n=i[\"a\"].getItem(\"pisco-afilweb\");const s={list:async e=>{let a={\"Content-Type\":\"application/json\"},t={tipoEmpleado:e,subdominio:n.subdomain};return await o[\"a\"].get(l[\"a\"].apiEmpleado+\"list/\",{params:t,headers:a}).then((e=>e)).catch((e=>e.response))},create:async e=>{let a={\"Content-Type\":\"application/json\"},t={idPersona:e.idPersona,nombre1:e.nombre1,nombre2:e.nombre2||\"\",apellido1:e.apellido1,apellido2:e.apellido2||\"\",telefono1:e.telefono1,telefono2:e.telefono02||\"\",tipoEmpleado:e.tipoEmpleado,subdominio:n.subdomain};return await o[\"a\"].post(l[\"a\"].apiEmpleado+\"create/\",t,{headers:a}).then((e=>e)).catch((e=>e.response))},edit:async(e,a)=>{let t={\"Content-Type\":\"application/json\"},i={id:e,idPersona:a.idPersona,nombre1:a.nombre1,nombre2:a.nombre2||\"\",apellido1:a.apellido1,apellido2:a.apellido2||\"\",telefono1:a.telefono1,telefono2:a.telefono2||\"\",tipoEmpleado:a.tipoEmpleado,estado:a.estado?0:1,subdominio:n.subdomain};return await o[\"a\"].put(l[\"a\"].apiEmpleado+\"update/\",i,{headers:t}).then((e=>e)).catch((e=>e.response))}}}}]);","name":"js/8.bba97527.js","input":"(window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || []).push([[8],{\n\n/***/ \"31e0\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/@quasar/app/lib/webpack/loader.auto-import-client.js?kebab!./node_modules/vue-loader/lib??vue-loader-options!./src/pages/params/employees/Index.vue?vue&type=template&id=e638fe62&\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"q-pa-md full-width row justify-center content-center\"},[_c('div',{staticClass:\"full-width row justify-center\"},[_c('q-radio',{attrs:{\"val\":\"COBRADOR\",\"label\":\"Cobradores\",\"disable\":_vm.loadingTable},on:{\"input\":_vm.loadData},model:{value:(_vm.employeeType),callback:function ($$v) {_vm.employeeType=$$v},expression:\"employeeType\"}}),_c('q-radio',{attrs:{\"val\":\"VENDEDOR\",\"label\":\"Asesores\",\"disable\":_vm.loadingTable},on:{\"input\":_vm.loadData},model:{value:(_vm.employeeType),callback:function ($$v) {_vm.employeeType=$$v},expression:\"employeeType\"}})],1),_c('div',{staticStyle:{\"min-width\":\"400px\",\"max-width\":\"1200px\",\"padding\":\"0 20px\"}},[_c('q-table',{attrs:{\"title\":\"Empleados\",\"rows-per-page-label\":\"Items\",\"separator\":\"cell\",\"data\":_vm.dataTable,\"columns\":_vm.columns,\"visible-columns\":_vm.viewColumns,\"row-key\":\"dataTable.id\",\"rows-per-page-options\":_vm.pagination,\"loading\":_vm.loadingTable},scopedSlots:_vm._u([(!_vm.isMobile)?{key:\"top-right\",fn:function(){return [_c('q-btn',{attrs:{\"icon\":\"add\",\"label\":\"Agregar Nuevo\",\"color\":\"primary\"},on:{\"click\":_vm.addItem}})]},proxy:true}:null,{key:\"header-cell-actions\",fn:function(props){return [_c('q-th',{attrs:{\"props\":props}},[_c('q-icon',{attrs:{\"name\":\"view_headline\",\"size\":\"1.5em\"}}),_vm._v(\"\\n          \"+_vm._s(props.col.label)+\"\\n        \")],1)]}},{key:\"body-cell-actions\",fn:function(props){return [_c('q-td',{staticStyle:{\"width\":\"50px\"},attrs:{\"props\":props}},[_c('q-btn',{attrs:{\"dense\":\"\",\"round\":\"\",\"flat\":\"\",\"color\":\"positive\",\"icon\":\"edit\"},on:{\"click\":function($event){return _vm.editItem(props)}}})],1)]}},{key:\"body-cell-estado\",fn:function(props){return [_c('q-td',{attrs:{\"props\":props}},[_vm._v(\"\\n          \"+_vm._s(_vm._f(\"FilterState\")(props.row.estado))+\"\\n        \")])]}},{key:\"no-data\",fn:function(){return [_c('div',{staticClass:\"full-width row flex-center q-gutter-sm\"},[_c('span',[_vm._v(\" No hay datos . . . crea el primer registro! \")])])]},proxy:true}],null,true)})],1),(_vm.isMobile)?_c('div',{staticClass:\"column items-center\",staticStyle:{\"padding-bottom\":\"0px\"}},[_c('q-page-sticky',{attrs:{\"position\":\"bottom-left\",\"offset\":[18, 50]}},[_c('q-btn',{attrs:{\"fab\":\"\",\"icon\":\"add\",\"color\":\"primary\"},on:{\"click\":_vm.addItem}})],1)],1):_vm._e()])}\nvar staticRenderFns = []\n\n\n// CONCATENATED MODULE: ./src/pages/params/employees/Index.vue?vue&type=template&id=e638fe62&\n\n// EXTERNAL MODULE: ./src/services/api.js\nvar api = __webpack_require__(\"7424\");\n\n// EXTERNAL MODULE: ./src/services/endpoints.js\nvar endpoints = __webpack_require__(\"7cf4\");\n\n// EXTERNAL MODULE: ./src/services/http/employees.js\nvar employees = __webpack_require__(\"df2a\");\n\n// EXTERNAL MODULE: ./src/services/notify.js\nvar notify = __webpack_require__(\"4f24\");\n\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/@quasar/app/lib/webpack/loader.auto-import-client.js?kebab!./node_modules/vue-loader/lib??vue-loader-options!./src/pages/params/employees/ModalEmployees.vue?vue&type=template&id=26ef327e&\nvar ModalEmployeesvue_type_template_id_26ef327e_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('q-dialog',{ref:\"dialog\",on:{\"hide\":_vm.onDialogHide}},[_c('q-card',{staticClass:\"q-dialog-plugin body-cards\"},[_c('q-card-section',[_c('q-form',{ref:\"form_modal\"},[_c('q-input',{attrs:{\"type\":\"text\",\"filled\":\"\",\"label\":\"Identificacion *\",\"lazy-rules\":\"\",\"rules\":_vm.textRules,\"counter\":\"\"},model:{value:(_vm.dataEmployee.idPersona),callback:function ($$v) {_vm.$set(_vm.dataEmployee, \"idPersona\", $$v)},expression:\"dataEmployee.idPersona\"}}),_c('q-input',{attrs:{\"type\":\"text\",\"filled\":\"\",\"label\":\"Primer Nombre *\",\"lazy-rules\":\"\",\"rules\":_vm.textRules,\"counter\":\"\"},model:{value:(_vm.dataEmployee.nombre1),callback:function ($$v) {_vm.$set(_vm.dataEmployee, \"nombre1\", $$v)},expression:\"dataEmployee.nombre1\"}}),_c('q-input',{attrs:{\"type\":\"text\",\"filled\":\"\",\"label\":\"Segundo Nombre\",\"counter\":\"\"},model:{value:(_vm.dataEmployee.nombre2),callback:function ($$v) {_vm.$set(_vm.dataEmployee, \"nombre2\", $$v)},expression:\"dataEmployee.nombre2\"}}),_c('q-input',{attrs:{\"type\":\"text\",\"filled\":\"\",\"label\":\"Primer Apellido *\",\"lazy-rules\":\"\",\"rules\":_vm.textRules,\"counter\":\"\"},model:{value:(_vm.dataEmployee.apellido1),callback:function ($$v) {_vm.$set(_vm.dataEmployee, \"apellido1\", $$v)},expression:\"dataEmployee.apellido1\"}}),_c('q-input',{attrs:{\"type\":\"text\",\"filled\":\"\",\"label\":\"Segundo Apellido\",\"counter\":\"\"},model:{value:(_vm.dataEmployee.apellido2),callback:function ($$v) {_vm.$set(_vm.dataEmployee, \"apellido2\", $$v)},expression:\"dataEmployee.apellido2\"}}),_c('q-input',{attrs:{\"type\":\"text\",\"filled\":\"\",\"label\":\"Teléfono Uno *\",\"lazy-rules\":\"\",\"rules\":_vm.textRules,\"counter\":\"\"},model:{value:(_vm.dataEmployee.telefono1),callback:function ($$v) {_vm.$set(_vm.dataEmployee, \"telefono1\", $$v)},expression:\"dataEmployee.telefono1\"}}),_c('q-input',{attrs:{\"type\":\"text\",\"filled\":\"\",\"label\":\"Teléfono Dos\",\"counter\":\"\"},model:{value:(_vm.dataEmployee.telefono2),callback:function ($$v) {_vm.$set(_vm.dataEmployee, \"telefono2\", $$v)},expression:\"dataEmployee.telefono2\"}}),_c('q-select',{attrs:{\"filled\":\"\",\"options\":_vm.optEmpleado,\"label\":\"Tipo Empleado\",\"rules\":_vm.selRules},model:{value:(_vm.dataEmployee.tipoEmpleado),callback:function ($$v) {_vm.$set(_vm.dataEmployee, \"tipoEmpleado\", $$v)},expression:\"dataEmployee.tipoEmpleado\"}}),_c('q-toggle',{attrs:{\"checked-icon\":\"check\",\"color\":\"red\",\"unchecked-icon\":\"clear\",\"value\":_vm.estado,\"label\":(\"Estado del empleado \" + _vm.estadoText)},model:{value:(_vm.estado),callback:function ($$v) {_vm.estado=$$v},expression:\"estado\"}})],1)],1),_c('q-card-actions',{attrs:{\"align\":\"center\"}},[_c('q-btn',{attrs:{\"color\":\"primary\",\"label\":_vm.textAction},on:{\"click\":_vm.onOKClick}}),_c('q-btn',{attrs:{\"color\":\"primary\",\"flat\":\"\",\"label\":\"Cancelar\"},on:{\"click\":_vm.onCancelClick}})],1)],1)],1)}\nvar ModalEmployeesvue_type_template_id_26ef327e_staticRenderFns = []\n\n\n// CONCATENATED MODULE: ./src/pages/params/employees/ModalEmployees.vue?vue&type=template&id=26ef327e&\n\n// CONCATENATED MODULE: ./node_modules/@quasar/app/lib/webpack/loader.transform-quasar-imports.js!./node_modules/babel-loader/lib??ref--2-0!./node_modules/@quasar/app/lib/webpack/loader.auto-import-client.js?kebab!./node_modules/vue-loader/lib??vue-loader-options!./src/pages/params/employees/ModalEmployees.vue?vue&type=script&lang=js&\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n/* harmony default export */ var ModalEmployeesvue_type_script_lang_js_ = ({\n  name: \"ModalEmployees\",\n\n  data() {\n    return {\n      name: \"\",\n      estado: true,\n      estadoText: \"Activo\",\n      textRules: [val => val && val.length > 0 || \"Campo Obligatorio (*)\", val => val.length <= 20 || \"Máximo 20 carácteres\"],\n      selRules: [val => !!val || \"Campo Obligatorio\"],\n      optEmpleado: [\"COBRADOR\", \"VENDEDOR\"],\n      dataEmployee: {}\n    };\n  },\n\n  props: {\n    data: {\n      type: Object,\n      required: true\n    },\n    textAction: {\n      type: String,\n      required: true\n    }\n  },\n\n  created() {\n    this.dataEmployee = this.data;\n    this.estado = this.dataEmployee.estado !== undefined ? this.dataEmployee.estado == 0 ? true : false : false;\n    console.log(this.estado);\n  },\n\n  methods: {\n    show() {\n      this.$refs.dialog.show();\n    },\n\n    hide() {\n      this.$refs.dialog.hide();\n    },\n\n    onDialogHide() {\n      this.$emit(\"hide\");\n    },\n\n    onOKClick() {\n      this.$refs.form_modal.validate().then(success => {\n        if (success) {\n          this.$emit(\"ok\", this.dataEmployee);\n          this.hide();\n        }\n      });\n    },\n\n    onCancelClick() {\n      this.hide();\n    }\n\n  },\n  watch: {\n    estado() {\n      this.estadoText = this.estado ? \"Activo\" : \" Inactivo\";\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./src/pages/params/employees/ModalEmployees.vue?vue&type=script&lang=js&\n /* harmony default export */ var employees_ModalEmployeesvue_type_script_lang_js_ = (ModalEmployeesvue_type_script_lang_js_); \n// EXTERNAL MODULE: ./node_modules/vue-loader/lib/runtime/componentNormalizer.js\nvar componentNormalizer = __webpack_require__(\"2877\");\n\n// EXTERNAL MODULE: ./node_modules/quasar/src/components/dialog/QDialog.js\nvar QDialog = __webpack_require__(\"24e8\");\n\n// EXTERNAL MODULE: ./node_modules/quasar/src/components/card/QCard.js\nvar QCard = __webpack_require__(\"f09f\");\n\n// EXTERNAL MODULE: ./node_modules/quasar/src/components/card/QCardSection.js\nvar QCardSection = __webpack_require__(\"a370\");\n\n// EXTERNAL MODULE: ./node_modules/quasar/src/components/form/QForm.js\nvar QForm = __webpack_require__(\"0378\");\n\n// EXTERNAL MODULE: ./node_modules/quasar/src/components/input/QInput.js + 2 modules\nvar QInput = __webpack_require__(\"27f9\");\n\n// EXTERNAL MODULE: ./node_modules/quasar/src/components/select/QSelect.js + 1 modules\nvar QSelect = __webpack_require__(\"ddd8\");\n\n// EXTERNAL MODULE: ./node_modules/quasar/src/components/toggle/QToggle.js\nvar QToggle = __webpack_require__(\"9564\");\n\n// EXTERNAL MODULE: ./node_modules/quasar/src/components/card/QCardActions.js\nvar QCardActions = __webpack_require__(\"4b7e\");\n\n// EXTERNAL MODULE: ./node_modules/quasar/src/components/btn/QBtn.js + 1 modules\nvar QBtn = __webpack_require__(\"9c40\");\n\n// EXTERNAL MODULE: ./node_modules/@quasar/app/lib/webpack/runtime.auto-import.js\nvar runtime_auto_import = __webpack_require__(\"eebe\");\nvar runtime_auto_import_default = /*#__PURE__*/__webpack_require__.n(runtime_auto_import);\n\n// CONCATENATED MODULE: ./src/pages/params/employees/ModalEmployees.vue\n\n\n\n\n\n/* normalize component */\n\nvar component = Object(componentNormalizer[\"a\" /* default */])(\n  employees_ModalEmployeesvue_type_script_lang_js_,\n  ModalEmployeesvue_type_template_id_26ef327e_render,\n  ModalEmployeesvue_type_template_id_26ef327e_staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* harmony default export */ var ModalEmployees = (component.exports);\n\n\n\n\n\n\n\n\n\n\nruntime_auto_import_default()(component, 'components', {QDialog: QDialog[\"a\" /* default */],QCard: QCard[\"a\" /* default */],QCardSection: QCardSection[\"a\" /* default */],QForm: QForm[\"a\" /* default */],QInput: QInput[\"a\" /* default */],QSelect: QSelect[\"a\" /* default */],QToggle: QToggle[\"a\" /* default */],QCardActions: QCardActions[\"a\" /* default */],QBtn: QBtn[\"a\" /* default */]});\n\n// CONCATENATED MODULE: ./node_modules/@quasar/app/lib/webpack/loader.transform-quasar-imports.js!./node_modules/babel-loader/lib??ref--2-0!./node_modules/@quasar/app/lib/webpack/loader.auto-import-client.js?kebab!./node_modules/vue-loader/lib??vue-loader-options!./src/pages/params/employees/Index.vue?vue&type=script&lang=js&\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n\n\n\n/* harmony default export */ var Indexvue_type_script_lang_js_ = ({\n  name: \"Employees\",\n\n  data() {\n    return {\n      employeeType: \"COBRADOR\",\n      loadingTable: false,\n      pagination: [5, 10, 0],\n      viewColumns: [\"actions\", \"idPersona\", \"nombre1\", \"nombre2\", \"apellido1\", \"apellido2\", \"telefono1\", \"telefono2\", \"tipoEmpleado\", \"estado\"],\n      columns: [{\n        name: \"actions\",\n        label: \"\",\n        field: \"\",\n        align: \"center\",\n        icon: \"delete\"\n      }, {\n        name: \"idPersona\",\n        required: false,\n        label: \"Identificacion\",\n        field: \"idPersona\",\n        sortable: false\n      }, {\n        name: \"nombre1\",\n        required: false,\n        label: \"Primer Nombre\",\n        field: \"nombre1\",\n        sortable: true,\n        align: \"left\"\n      }, {\n        name: \"nombre2\",\n        required: false,\n        label: \"Segundo Nombre\",\n        field: \"nombre2\",\n        sortable: true,\n        align: \"left\"\n      }, {\n        name: \"apellido1\",\n        required: false,\n        label: \"Primer Apellido\",\n        field: \"apellido1\",\n        sortable: true,\n        align: \"left\"\n      }, {\n        name: \"apellido2\",\n        required: false,\n        label: \"Segundo Apellido\",\n        field: \"apellido2\",\n        sortable: true,\n        align: \"left\"\n      }, {\n        name: \"telefono1\",\n        required: false,\n        label: \"Teléfono 1\",\n        field: \"telefono1\",\n        sortable: true,\n        align: \"left\"\n      }, {\n        name: \"telefono2\",\n        required: false,\n        label: \"Teléfono 2\",\n        field: \"telefono2\",\n        sortable: true,\n        align: \"left\"\n      }, {\n        name: \"tipoEmpleado\",\n        required: false,\n        label: \"Tipo Empleado\",\n        field: \"tipoEmpleado\",\n        sortable: true,\n        align: \"left\"\n      }, {\n        name: \"estado\",\n        required: false,\n        label: \"Estado\",\n        field: \"estado\",\n        sortable: true,\n        align: \"left\"\n      }],\n      dataTable: [],\n      fabAction: false,\n      employeeId: 0\n    };\n  },\n\n  beforeMount() {\n    this.loadData();\n  },\n\n  methods: {\n    editItem(props) {\n      this.fabAction = false;\n      this.saveOrEditItem(props.row);\n    },\n\n    addItem() {\n      this.fabAction = true;\n      this.saveOrEditItem(\"\");\n    },\n\n    saveOrEditItem(valueItem) {\n      this.employeeId = valueItem.idPersona;\n      this.$q.dialog({\n        component: ModalEmployees,\n        data: this.fabAction ? {} : valueItem,\n        parent: this,\n        textAction: this.fabAction ? \"Guardar\" : \"Modificar\"\n      }).onOk(value => {\n        if (this.fabAction) {\n          this.addRegister(value);\n        } else {\n          this.editRegister(value);\n        }\n      }).onCancel(() => {// console.log(\"Cancel\");\n      }).onDismiss(() => {// console.log(\"Called on OK or Cancel\");\n      });\n    },\n\n    async addRegister(dataValue) {\n      await employees[\"a\" /* Employees */].create(dataValue).then(response => {\n        console.log(response);\n\n        if ((response === null || response === void 0 ? void 0 : response.status) === 200) {\n          notify[\"a\" /* default */].triggerPositive(\"Registro almacenado correctamente\");\n          this.loadData();\n        } else {\n          notify[\"a\" /* default */].triggerNegative(\"El registro no pudo ser almacenado\");\n        }\n      });\n    },\n\n    async editRegister(dataValue) {\n      await employees[\"a\" /* Employees */].edit(this.employeeId, dataValue).then(response => {\n        console.log(response);\n\n        if ((response === null || response === void 0 ? void 0 : response.status) === 200) {\n          notify[\"a\" /* default */].triggerPositive(\"Registro modificado correctamente\");\n          this.loadData();\n        } else {\n          notify[\"a\" /* default */].triggerNegative(\"El registro no pudo ser modificado\");\n        }\n      });\n    },\n\n    async loadData() {\n      this.loadingTable = true;\n      await employees[\"a\" /* Employees */].list(this.employeeType).then(response => {\n        if ((response === null || response === void 0 ? void 0 : response.status) === 200) {\n          this.dataTable = response.data;\n        }\n      });\n      this.loadingTable = false;\n    }\n\n  },\n  computed: {\n    isMobile: {\n      get() {\n        return this.$store.state.platform_mobile.isMobile;\n      }\n\n    }\n  }\n});\n// CONCATENATED MODULE: ./src/pages/params/employees/Index.vue?vue&type=script&lang=js&\n /* harmony default export */ var employees_Indexvue_type_script_lang_js_ = (Indexvue_type_script_lang_js_); \n// EXTERNAL MODULE: ./node_modules/quasar/src/components/radio/QRadio.js\nvar QRadio = __webpack_require__(\"3786\");\n\n// EXTERNAL MODULE: ./node_modules/quasar/src/components/table/QTable.js + 17 modules\nvar QTable = __webpack_require__(\"eaac\");\n\n// EXTERNAL MODULE: ./node_modules/quasar/src/components/table/QTh.js\nvar QTh = __webpack_require__(\"357e\");\n\n// EXTERNAL MODULE: ./node_modules/quasar/src/components/icon/QIcon.js\nvar QIcon = __webpack_require__(\"0016\");\n\n// EXTERNAL MODULE: ./node_modules/quasar/src/components/table/QTd.js\nvar QTd = __webpack_require__(\"db86\");\n\n// EXTERNAL MODULE: ./node_modules/quasar/src/components/page-sticky/QPageSticky.js\nvar QPageSticky = __webpack_require__(\"de5e\");\n\n// CONCATENATED MODULE: ./src/pages/params/employees/Index.vue\n\n\n\n\n\n/* normalize component */\n\nvar Index_component = Object(componentNormalizer[\"a\" /* default */])(\n  employees_Indexvue_type_script_lang_js_,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* harmony default export */ var Index = __webpack_exports__[\"default\"] = (Index_component.exports);\n\n\n\n\n\n\n\n\nruntime_auto_import_default()(Index_component, 'components', {QRadio: QRadio[\"a\" /* default */],QTable: QTable[\"a\" /* default */],QBtn: QBtn[\"a\" /* default */],QTh: QTh[\"a\" /* default */],QIcon: QIcon[\"a\" /* default */],QTd: QTd[\"a\" /* default */],QPageSticky: QPageSticky[\"a\" /* default */]});\n\n\n/***/ }),\n\n/***/ \"4f24\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var quasar_src_plugins_Notify_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"2a19\");\n;\n\nconst triggerPositive = message => {\n  quasar_src_plugins_Notify_js__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"a\"].create({\n    type: \"positive\",\n    position: \"bottom\",\n    message: message\n  });\n};\n\nconst triggerNegative = message => {\n  quasar_src_plugins_Notify_js__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"a\"].create({\n    type: \"negative\",\n    position: \"bottom\",\n    message: message\n  });\n};\n\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n  triggerPositive,\n  triggerNegative\n});\n\n/***/ }),\n\n/***/ \"7424\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"bc3a\");\n/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(axios__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var quasar_src_plugins_LocalStorage_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"18d6\");\n\n;\nlet value = quasar_src_plugins_LocalStorage_js__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"].getItem(\"pisco-afilweb\"); //http://138.128.244.126:9051\n\nconst api = axios__WEBPACK_IMPORTED_MODULE_0___default.a.create({\n  baseURL: value !== null ? value.server : 'http://138.128.244.126:9051',\n  timeout: 8000,\n  headers: {\n    'X-Custom-Header': 'foobar',\n    'Access-Control-Allow-Origin': '*',\n    'Access-Control-Allow-Methods': 'GET, POST, PUT, DELETE, PATCH, OPTIONS',\n    'Access-Control-Allow-Headers': 'X-Requested-With, content-type, Authorization'\n  }\n});\n/* harmony default export */ __webpack_exports__[\"a\"] = (api);\n\n/***/ }),\n\n/***/ \"7cf4\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nconst endpoints = {\n  apiLogin: '/api/user/login/',\n  apiEmpresa: '/api/business/',\n  apiEmpleado: '/api/employee/',\n  apiSucursal: '/api/office/',\n  apiKinship: '/api/kinship/',\n  apiBenefi: '/api/benefi/',\n  apiPlan: '/api/plan/',\n  apiZona: '/api/zone/',\n  apiDepartamento: '/api/department/',\n  apiMunicipio: '/api/city/',\n  apiFormaPago: '/api/paymentmethod/',\n  apiContrato: '/api/contract/',\n  apiBusqueda: '/api/search/',\n  apiTipoPago: '/api/paymenttype/',\n  apiPagos: '/api/payment/',\n  apiCaja: '/api/cash/'\n};\n/* harmony default export */ __webpack_exports__[\"a\"] = (endpoints);\n\n/***/ }),\n\n/***/ \"df2a\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return Employees; });\n/* harmony import */ var _api__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"7424\");\n/* harmony import */ var _endpoints__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"7cf4\");\n/* harmony import */ var quasar_src_plugins_LocalStorage_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"18d6\");\n\n\n;\nlet localStorage = quasar_src_plugins_LocalStorage_js__WEBPACK_IMPORTED_MODULE_2__[/* default */ \"a\"].getItem(\"pisco-afilweb\");\nconst Employees = {\n  list: async type => {\n    let headers = {\n      \"Content-Type\": \"application/json\"\n    };\n    let params = {\n      tipoEmpleado: type,\n      subdominio: localStorage.subdomain\n    };\n    return await _api__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"a\"].get(_endpoints__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"].apiEmpleado + \"list/\", {\n      params,\n      headers\n    }).then(response => {\n      // console.log(response)\n      return response;\n    }).catch(err => {\n      return err.response;\n    });\n  },\n  create: async value => {\n    let headers = {\n      \"Content-Type\": \"application/json\"\n    };\n    let data = {\n      idPersona: value.idPersona,\n      nombre1: value.nombre1,\n      nombre2: value.nombre2 || \"\",\n      apellido1: value.apellido1,\n      apellido2: value.apellido2 || \"\",\n      telefono1: value.telefono1,\n      telefono2: value.telefono02 || \"\",\n      tipoEmpleado: value.tipoEmpleado,\n      subdominio: localStorage.subdomain\n    };\n    return await _api__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"a\"].post(_endpoints__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"].apiEmpleado + \"create/\", data, {\n      headers\n    }).then(response => {\n      return response;\n    }).catch(err => {\n      return err.response;\n    });\n  },\n  edit: async (id, newData) => {\n    let headers = {\n      \"Content-Type\": \"application/json\"\n    };\n    let data = {\n      id: id,\n      idPersona: newData.idPersona,\n      nombre1: newData.nombre1,\n      nombre2: newData.nombre2 || \"\",\n      apellido1: newData.apellido1,\n      apellido2: newData.apellido2 || \"\",\n      telefono1: newData.telefono1,\n      telefono2: newData.telefono2 || \"\",\n      tipoEmpleado: newData.tipoEmpleado,\n      estado: newData.estado ? 0 : 1,\n      subdominio: localStorage.subdomain\n    };\n    return await _api__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"a\"].put(_endpoints__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"].apiEmpleado + \"update/\", data, {\n      headers\n    }).then(response => {\n      return response;\n    }).catch(err => {\n      return err.response;\n    });\n  }\n};\n\n/***/ })\n\n}]);","inputSourceMap":null}